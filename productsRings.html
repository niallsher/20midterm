<!DOCTYPE html>
    <head>
        <meta name='viewport' content="width=device-width, initial-scale=1">
        <title> KMTN Jewelers </title>
        <link rel="stylesheet" type = "text/css" href="styleSheet.css">
    </head>
    <body>
        <script language="javascript">
            var orderarray = [];
            // var cartarray = [];
            window.sessionStorage;
            
             //RingProduct
            //this function makes a new ring instance, assigning its name, price and quanity
            function ringProduct(name, price, quant)
            {
                this.name = name;
                this.price = price;
                this.quant = quant;
            }
            
            //makeRing
            //this function makes a new ring when one is ordered, by calling RingProduct and pushing
            //this instance into the array
            function makeRing(array, name, price)
            {
                need_new = checkOrders(array, name);
                if (need_new) {
                    new_ring = new ringProduct(name, price, 1);
                    array.push(new_ring);
                }
                // return orderarray;
            }
            
            //checkOrders
            //this function checks to see if a ring instance is already in the cart and updates the cart quantities
            function checkOrders(array, name)
            {
                for (var i = 0; i < array.length; i++) {
                    if (array[i].name == name) {
                        array[i].quant++;
                        return false;
                    }
                }
                var isCart = sessionStorage.getItem("cartarray");
                if (isCart) {
                    var cartJarray = JSON.parse(sessionStorage.getItem("cartarray"));
                    for (var i = 0; i < cartJarray.length; i++) {
                        if (cartJarray[i].name == name) {
                            cartJarray[i].quant++;
                            sessionStorage.setItem("cartarray", JSON.stringify(cartJarray));
                            return false;
                        }
                    }
                }
                return true;
            }
            
            //OrderNecklace
            //this function adds the ordered necklace element to the ordered array
            function OrderRing(element)
            {
                name = document.getElementById(element + "-name").innerHTML;
                price = document.getElementById(element + "-price").innerHTML;

                makeRing(orderarray, name, price);
                sessionStorage.setItem("orderarray", JSON.stringify(orderarray));
            }

        </script>
        <header>
               
                <a class = "logoBut" href ="index.html" align ="left"> 
                    <img id = "logo" align="left" src="logo.jpg">
                </a>
                <h1> &nbsp; KMTN Jewelers </h1>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About Us</a></li>
                <li><a href="contact.html">Contact Us</a></li>
                <li><a class="current" href="productsRings.html">Rings</a></li>
                <li><a href="productsNecklaces.html">Necklaces</a></li>
                <li><a href="productsWatches.html">Watches</a></li>
                <li><a href="cart.html">Cart</a></li>
            </ul>
        </header>
        <br>
        <h2>Our Rings</h2> 
        <br>
        
        <div id='rings'>
            
        <div class='leftCol'>
            <hr #808080>
            <div id='ring1'>
                <img id='productImg' name='productImg' src='ring1.jpg'>
                <p id='ring1-name'>Ring 1</p>
                <p id='ring1-price'>$1400.00</p>
                <div id='order'>
                    <a href="#" id="order-product" onclick="OrderRing('ring1')">Add to cart</a>
                </div>
            </div>
            
            <hr #808080>
            <div id='ring4'>
                <img id='productImg' name='productImg' src='ring4.jpg'>
                <p id='ring4-name'>Ring 4</p>
                <p id='ring4-price'>$1380.00</p>

                <div id='order'>
                    <a href="#" id="order-product" onclick="OrderRing('ring4')">Add to cart</a>
                </div>
            </div>
            <hr #808080>
            
            <div id='ring7'>
                <img id='productImg' name='productImg' src='ring7.jpg'>
                <p id='ring7-name'>Ring 7</p>
                <p id='ring7-price'>$1350.00</p>

                <div id='productImg' name='productImg' id='order'>
                    <a href="#" id="order-product" onclick="OrderRing('ring7')">Add to cart</a>
                </div>
            </div>
            <hr #808080>
        </div>
        <div class='midCol'>
            <hr #808080>
            <div id='ring2'>
                <img id='productImg' name='productImg' src='ring2.jpg'>
                <p id='ring2-name'>Ring 2</p>
                <p id='ring2-price'>$1245.00</p>

                <div id='order'>
                    <a href="#" id="order-product" onclick="OrderRing('ring2')">Add to cart</a>
                </div>
            </div>
            <hr #808080>
            <div id='ring5'>
                <img id='productImg' name='productImg' src='ring5.jpg'>
                <p id='ring5-name'>Ring 5</p>
                <p id='ring5-price'>$1460.00</p>

                <div id='order'>
                    <a href="#" id="order-product" onclick="OrderRing('ring5')">Add to cart</a>
                </div>
            </div>
            <hr #808080>
            <div id='ring8'>
                <img id='productImg' name='productImg' src='ring8.jpg'>
                <p id='ring8-name'>Ring 8</p>
                <p id='ring8-price'>$1440.00</p>

                <div id='order'>
                    <a href="#" id="order-product" onclick="OrderRing('ring8')">Add to cart</a>
                </div>
            </div>
            <hr #808080>
        </div>
        <div class ='rightCol'>
            <hr #808080>
            <div id='ring3'>
                <img id='productImg' name='productImg' src='ring3.jpg'>
                <p id='ring3-name'>Ring 3</p>
                <p id='ring3-price'>$935.00</p>

                <div id='order'>
                    <a href="#" id="order-product" onclick="OrderRing('ring3')">Add to cart</a>
                </div>
            </div>
            <hr #808080>
            <div id='ring6'>
                <img id='productImg' name='productImg' src='ring6.jpg'>
                <p id='ring6-name'>Ring 6</p>
                <p id='ring6-price'>$1235.00</p>

                <div id='order'>
                    <a href="#" id="order-product" onclick="OrderRing('ring6')">Add to cart</a>
                </div>
            </div>
            <hr #808080>
            <div id='ring9'>
                <img id='productImg' name='productImg' src='Ring9.jpg'>
                <p id='ring9-name'>Ring 9</p>
                <p id='ring9-price'>$925.00</p>

                <div id='order'>
                    <a href="#" id="order-product" onclick="OrderRing('ring9')">Add to cart</a>
                </div>
            </div>
            <hr #808080>
        </div>
        </div>

        <!-- Image Modal code was modified from w3schools examples -->
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <span class="close">&times;</span>
            <img class="modal-content" id="img01">
            <div id="caption"></div>
        </div>

        <script language="javascript">
        // Get the modal
        var modal = document.getElementById('myModal');

        // Get the image and insert it inside the modal - use its "alt" text as a caption
        var img = document.getElementsByName('productImg');
        var modalImg = document.getElementById("img01");
        var captionText = document.getElementById("caption");
        for (var i = 0; i < img.length; i++) {
            img[i].onclick = function(){
                modal.style.display = "block";
                modalImg.src = this.src;
                captionText.innerHTML = this.alt;
            }

            // Get the <span> element that closes the modal
            var span = document.getElementsByClassName("close")[0];

            // When the user clicks on <span> (x), close the modal
            span.onclick = function() { 
                modal.style.display = "none";
            }
        }
        </script>
    </body>
</html>
